(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports=n(28)},28:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(15),s=n.n(r),i=n(7),u=n.n(i),c=n(11),l=n(1),p=n(2),h=n(4),f=n(3),m=n(5),d=n(10),v=n(9),b=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this,e))).state={input:""},n}return Object(m.a)(t,e),Object(p.a)(t,[{key:"onChange",value:function(e){this.setState(Object(v.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){this.props.askQuestion(this.state.input)}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{name:"input",onChange:function(t){return e.onChange(t)},type:"text",placeholder:"Ask a new question"}),o.a.createElement("button",{onClick:function(t){return e.onSubmit(t)}},"Ask question")))}}]),t}(a.Component),g=function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props.questions.map(function(e){return o.a.createElement("li",{key:e.id,style:{textAlign:"center"}},o.a.createElement(d.a,{style:{textDecoration:"none",fontSize:"2em"},to:"/question/"+e.id}," ",e.question))});return o.a.createElement("div",null,o.a.createElement("ul",{style:{listStyleType:"none"}},t),o.a.createElement(b,{style:{textAlign:"center"},askQuestion:function(t){return e.props.askQuestion(t)}}))}}]),t}(a.Component),y=n(8),j=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this,e))).state={input:""},n}return Object(m.a)(t,e),Object(p.a)(t,[{key:"onChange",value:function(e){this.setState(Object(v.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){this.props.postAnswer(this.props.id,this.state.input)}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("form",null,o.a.createElement("input",{name:"input",onChange:function(t){return e.onChange(t)},type:"text"}),o.a.createElement("button",{onClick:function(t){return e.onSubmit()}},"Post Answer")))}}]),t}(a.Component),k=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this,e))).handleVote=n.handleVote.bind(Object(y.a)(n)),n}return Object(m.a)(t,e),Object(p.a)(t,[{key:"handleVote",value:function(e){var t=e.currentTarget.dataset.id;this.props.handleVote(this.props.id,t)}},{key:"render",value:function(){var e=this,t=this.props.id,n=this.props.getQuestion(t),a="Loading",r=[];return n&&(a=n.question,n.answers&&(r=n.answers.map(function(t,n){return o.a.createElement("div",{key:t.id,id:t.id},o.a.createElement("br",null),o.a.createElement("div",null,t.text),o.a.createElement("div",null,"Up votes: ",t.votes),o.a.createElement("button",{onClick:function(){return e.props.handleVote(e.props.id,t.id)}},"Vote up"))}))),o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",null,"Question"),o.a.createElement("p",null,a),o.a.createElement("h3",null,"Answers"),o.a.createElement("form",null,o.a.createElement("ul",null,r)),o.a.createElement(j,{id:t,postAnswer:function(t,n){return e.props.postAnswer(t,n)}}))}}]),t}(a.Component),O=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this,e))).API_URL="/api",n.state={questions:[]},n}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"getData",value:function(){var e=Object(c.a)(u.a.mark(function e(){var t,n,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(this.API_URL,"/questions"),e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",this.setState({questions:a}));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getQuestion",value:function(e){return this.state.questions.find(function(t){return t.id===parseFloat(e)})}},{key:"putVote",value:function(e,t){var n=this,a="".concat(this.API_URL,"/questions/").concat(e).concat("/answers/").concat(t).concat("/votes");fetch(a,{method:"PUT",headers:{"Content-type":"application/json; charset=UTF-8"}}).then(function(e){return e.json()}).then(function(e){console.log("result of upvoting"),console.log(e),n.getData()}),this.getData()}},{key:"handleVote",value:function(e,t){this.putVote(e,t),console.log("The link was clicked.")}},{key:"postAnswer",value:function(){var e=Object(c.a)(u.a.mark(function e(t,n){var a,o,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("postAnswer",t,n),a="".concat(this.API_URL,"/questions/").concat(t,"/answers"),e.next=4,fetch(a,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({text:n})});case 4:return o=e.sent,e.next=7,o.json();case 7:r=e.sent,console.log("Printing the response:",r);case 9:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"askQuestion",value:function(e){this.postData(e)}},{key:"postData",value:function(e){var t=this,n="".concat(this.API_URL,"/questions");fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:e,array:[]})}).then(function(e){return e.json()}).then(function(e){console.log(e),console.log("Result of posting a new question:"),console.log(e.question.question),t.getData()})}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",{style:{textAlign:"center",color:"red",fontSize:"3em"}}," Simple Q&A Site"),o.a.createElement("h2",{style:{textAlign:"center",fontSize:"2.5em"}},"Questions"),o.a.createElement(d.b,null,o.a.createElement(g,{path:"/",questions:this.state.questions,askQuestion:function(t){return e.askQuestion(t)}}),o.a.createElement(k,{path:"/question/:id",getQuestion:function(t){return e.getQuestion(t)},handleVote:function(t,n){return e.handleVote(t,n)},postAnswer:function(t,n){return e.postAnswer(t,n)}})))}}]),t}(a.Component);s.a.render(o.a.createElement(O,null),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.17b50004.chunk.js.map